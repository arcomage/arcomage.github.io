(self.webpackChunkarcomage_hd=self.webpackChunkarcomage_hd||[]).push([[4071],{7549:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(7294),a=r(4184),l=r.n(a),o=r(7889),i=r(8255),c=r(1304),m=r(6360),s=r(8023),g=r(6399),h=(0,n.memo)((({type:e,isProd:t,isOpponent:r})=>{const a=(0,m.C)((n=>n.status[r?"opponent":"player"][c.CR[e][t?1:0]]));return n.createElement(n.Fragment,null,n.createElement(g.Z,{n:a}),n.createElement(s.Z,{n:a}))})),p=r(124),u=r(5678),d=r(8377),b=r(4983),f=r(1317),w=r(2919),x=r(5483),E=r(1626);const y=(e,t)=>{const r=e*t;return r>=12?r:12},$=(e,t)=>1.2*y(e,t),v=e=>`(${e}px - 1.25rem * 2 - (1.75rem + 0.25rem * 2 + 1rem) - (0.25rem * 2 + ${$(e,.036)}px + 0.25rem + 0.75rem) * 3) / 3`,k=(0,o.QM)({brick:{"background-image":`url(${p.Z})`,"background-position":"center 15%"},gem:{"background-image":`url(${u.Z})`,"background-position":"center 21%"},recruit:{"background-image":`url(${d.Z})`},prodcontainer:{"min-height":"2em"},prod:{"font-size":({height:e})=>`${y(e,.05)}px`,"line-height":({height:e})=>`${$(e,.05)}px`,"margin-bottom":"-0.2em"},count:{"font-size":({height:e})=>`${y(e,.036)}px`,"line-height":({height:e})=>`${$(e,.036)}px`,height:({height:e})=>`${$(e,.036)}px`,width:"50%"},unit:{"font-size":({height:e,unitTextLength:t})=>{let r=y(e,.036);return t>f.X0&&(r=r/t*(f.X0+1)),`${r}px`},"line-height":({height:e})=>`${$(e,.036)}px`,height:({height:e})=>`${$(e,.036)}px`,width:({height:e,smallMode:t})=>t?`${$(e,.036)}px`:"50%","background-image":({type:e,smallMode:t})=>t?`url(${{brick:w.Z,gem:x.Z,recruit:E.Z}[e]})`:"none",background:{repeat:"no-repeat",size:"cover",position:"center center"},opacity:({smallMode:e})=>e?.75:1,transform:({type:e,smallMode:t})=>{if(t){if("gem"===e)return"translateY(-12%)";if("recruit"===e)return"translateY(6%)"}return"none"}}});var N=(0,n.memo)((({type:e,isOpponent:t})=>{const r=(0,n.useContext)(b.OO),a=(0,n.useContext)(i.$),o=a.height,c=o*(a.narrowMobile?.5:2/3),m=o<f.A1,s={brick:"red",gem:"blue",recruit:"green"}[e],g={brick:r.i18n("bricks"),gem:r.i18n("gems"),recruit:r.i18n("recruits")}[e],p=k({type:e,height:c,smallMode:m,unitTextLength:m?0:g.replace(/[ыщ]/g,"  ").replace(/ll/g,"l").length});return n.createElement("div",{className:l()("mb-3 p-1 shadow-lg",`bg-${s}-300`)},n.createElement("div",{className:l()(p[e],p.prodcontainer,"bg-no-repeat bg-cover bg-center border border-l-darkborder border-t-darkborder border-r-lightborder border-b-lightborder relative"),style:{height:`calc(${v(c)})`}},n.createElement("div",{className:l()("text-yellow-400 absolute bottom-1 left-1 text-shadow-md tracking-tighter","fatnumber",p.prod)},n.createElement(h,Object.assign({isProd:!0},{type:e,isOpponent:t})))),n.createElement("div",{className:"flow-root mt-1"},n.createElement("div",{className:l()("float-left text-black flex-1 text-left relative tracking-tighter","fatnumber",p.count)},n.createElement(h,Object.assign({isProd:!1},{type:e,isOpponent:t}))),n.createElement("div",Object.assign({},m?{title:g}:{},{className:l()("float-right text-black flex-1 text-right","robotocondensed",p.unit)}),m?"":g)))}));const Z=(0,o.QM)({main:{width:({height:e})=>`calc(${(e=>`${v(e)} / 0.7222222222222222 + 0.25rem * 2 + 1.25rem * 2`)(e)})`,"min-width":"7.8rem",float:({isOpponent:e})=>e?"right":"left"},username:{"transition-property":"color, border-color","transition-timing-function":"ease-in-out","transition-duration":"0.3s"}});var C=(0,n.memo)((({playerName:e,isOpponent:t=!1})=>{const r=(0,m.C)((e=>e.game.playersTurn)),a=(0,n.useContext)(i.$).height/3*2,o=Z({height:a,isOpponent:t});return n.createElement("div",{className:l()(o.main,"z-20 p-5 h-full relative")},n.createElement("div",{className:"bg-black bg-opacity-50 mb-4 p-1 shadow-lg"},n.createElement("div",{className:l()("border border-yellow-400 text-yellow-400 text-center h-7 leading-7 font-mono",{"border-opacity-25 text-opacity-25":r===t},o.username)},e)),n.createElement(N,{type:"brick",isOpponent:t}),n.createElement(N,{type:"gem",isOpponent:t}),n.createElement(N,{type:"recruit",isOpponent:t}))})),O=r(9842),z=r(688),M=r(8415),Q=r(3014);const j=e=>`(${e}px - (1.75rem + 0.25rem * 2)) / (282 + 600)`,T=e=>`${j(e)} * 204`,B=e=>`${j(e)} * ((204 - 135) / 2)`,H=(e,t)=>`calc((${T(e)} - ${B(e)} * 2) / 135 * 600 * ${t})`,P=(0,o.QM)({main:{width:({height:e})=>`calc(${T(e)})`},towerwrapper:{height:({height:e})=>H(e,1),bottom:"calc(1.75rem + 0.25rem * 2)","padding-left":({height:e})=>`calc(${B(e)})`,"padding-right":({height:e})=>`calc(${B(e)})`},towerbody:{background:{image:`url(${z.Z})`,repeat:"repeat-y",size:"100%",position:"center 0"},width:({height:e})=>`calc(100% - ${B(e)} * 2)`,height:({height:e,current:t,goal:r})=>H(e,t/r),"max-height":({height:e})=>H(e,1),"will-change":"height","transition-property":"height","transition-timing-function":"linear","transition-duration":"0.4s","&:before":{content:'""',position:"absolute",top:({height:e})=>`calc(0px - ${T(e)} / 204 * 282 + 1px)`,left:({height:e})=>`calc(0px - ${B(e)})`,right:({height:e})=>`calc(0px - ${B(e)})`,width:({height:e})=>`calc(${T(e)})`,height:({height:e})=>`calc(${T(e)} / 204 * 282)`,display:"block",background:{repeat:"no-repeat",size:"100%",position:"center 0"}}},towerbodyred:{"&:before":{background:{image:`url(${M.Z})`}}},towerbodyblue:{"&:before":{background:{image:`url(${Q.Z})`}}}});var F=(0,n.memo)((({isOpponent:e=!1,goal:t,current:r})=>{const a=(0,n.useContext)(i.$).height/3*2,o=P({height:a,current:r,goal:t});return n.createElement("div",{className:l()("h-full mx-1 relative","float-"+(e?"right":"left"),o.main)},n.createElement("div",{className:l()("z-20 w-full absolute",o.towerwrapper)},n.createElement("div",{className:l()("absolute bottom-0",o.towerbody,o[e?"towerbodyblue":"towerbodyred"])})),n.createElement("div",{className:"bg-black bg-opacity-50 p-1 shadow-lg w-full absolute bottom-0"},n.createElement("div",{className:"border border-yellow-400 border-opacity-25 text-yellow-400 text-center h-7 leading-7 font-mono"},n.createElement(g.Z,{n:r}),n.createElement(s.Z,{n:r}),n.createElement(O.Z,{n:r}))))})),I=r(5844);const L=e=>`(${e}px - (1.75rem + 0.25rem * 2)) / (282 + 600)`,X=(e,t)=>`calc(${L(e)} * 597 * ${t/100})`,Y=(0,o.QM)({main:{width:e=>`calc(${L(e)} * 72 + 1rem * 2)`},wallwrapper:{height:e=>X(e,100),bottom:"calc(1.75rem + 0.25rem * 2)"},wallbody:{background:{image:`url(${I.Z})`,repeat:"repeat-y",size:"100%",position:"center 0"},width:e=>`calc(${L(e)} * 72)`,"max-height":e=>`calc(${L(e)} * 597)`,"will-change":"height","transition-property":"height","transition-timing-function":"linear","transition-duration":"0.4s"}});var _=(0,n.memo)((({current:e,isOpponent:t=!1})=>{const r=(0,n.useContext)(i.$).height/3*2,a=Y(r);return n.createElement("div",{className:l()("h-full mx-2 relative","float-"+(t?"right":"left"),a.main)},n.createElement("div",{className:l()("z-20 w-full absolute px-4",a.wallwrapper)},n.createElement("div",{className:l()("absolute bottom-0",a.wallbody),style:{height:X(r,e)}})),n.createElement("div",{className:"bg-black bg-opacity-50 p-1 shadow-lg w-full absolute bottom-0"},n.createElement("div",{className:"border border-yellow-400 border-opacity-25 text-yellow-400 text-center h-7 leading-7 font-mono"},n.createElement(g.Z,{n:e}),n.createElement(s.Z,{n:e}),n.createElement(O.Z,{n:e}))))})),A=r(7977),K=r(3705);const R=(0,o.QM)({main:{background:{image:`url(${K.Z})`,repeat:"no-repeat",size:"cover",position:"center 30%"}}});var S=(0,n.memo)((()=>{const e=(0,m.C)((e=>e.settings.playerName)),t=(0,m.C)((e=>e.settings.opponentName)),r=(0,m.C)((e=>e.status.player.tower)),a=(0,m.C)((e=>e.status.player.wall)),o=(0,m.C)((e=>e.status.opponent.tower)),c=(0,m.C)((e=>e.status.opponent.wall)),s=(0,m.C)((e=>e.settings.win.tower)),g=(0,n.useContext)(i.$),h=R();return n.createElement("div",{className:l()(h.main,"z-0 flex-auto bg-green-100 relative",g.narrowMobile?"h-1/2":"h-2/3")},n.createElement(C,{playerName:e}),n.createElement(F,{goal:s,current:r}),n.createElement(_,{current:a}),n.createElement(C,{playerName:t,isOpponent:!0}),n.createElement(F,{isOpponent:!0,goal:s,current:o}),n.createElement(_,{isOpponent:!0,current:c}),n.createElement(A.Z,null))}))},2606:function(e,t,r){"use strict";var n=r(7294),a=r(1868),l=r(4184),o=r.n(l),i=r(7889),c=r(6360),m=r(515),s=r(3543),g=r(8255);const h=(0,i.QM)({main:{background:{image:"linear-gradient(#326a4b, #000 2rem)"}}});t.Z=(0,n.memo)((()=>{const e=(0,c.C)((e=>e.cards.list)),t=(0,c.C)((e=>e.settings.cardsInHand)),r=(0,c.C)((e=>e.game.discardMode)),l=(0,n.useContext)(g.$),i=l.height,p=l.width,u=h();return n.createElement(s.f,{cardsInHand:t,winHeight:i,winWidth:p},n.createElement("div",{className:o()(u.main,"flex-auto",l.narrowMobile?"h-1/2":"h-1/3")},n.createElement(a.Z,{n:-1,position:-1,unusable:!0}),e.map(((e,t)=>null===e?null:n.createElement(a.Z,Object.assign({key:t,index:t},e)))),n.createElement(m.Z,{shown:r})))}))},751:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(7294),a=r(4820),l=r(8922),o=r(3761),i=r(4808),c=r(3264),m=r(4184),s=r.n(m),g=r(7889),h=r(4983),p=r(577),u=r.n(p);const d=(0,g.QM)({"@keyframes moveto-tl":{to:{transform:"translate(-1.4px, -1.4px)"}},"@keyframes moveto-tr":{to:{transform:"translate(1.4px, -1.4px)"}},"@keyframes moveto-bl":{to:{transform:"translate(-1.4px, 1.4px)"}},"@keyframes moveto-br":{to:{transform:"translate(1.4px, 1.4px)"}},fullscreenButton:{left:"calc(60% + 9rem)","&:hover":{"& svg":{"& .el-0":{animation:"$moveto-tl 0.6s linear infinite"},"& .el-1":{animation:"$moveto-tr 0.6s linear infinite"},"& .el-2":{animation:"$moveto-bl 0.6s linear infinite"},"& .el-3":{animation:"$moveto-br 0.6s linear infinite"}}}}});var b=(0,n.memo)((()=>{const e=(0,n.useContext)(h.OO),t=d();return n.createElement("button",{accessKey:"t",title:e.i18n("Toggle Full Screen"),className:s()("topbutton",t.fullscreenButton),onClick:()=>{u().isEnabled&&u().toggle()}},n.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{className:"el-0",d:"m2.09 8.877-0.086-6.187c-0.0033931-0.31548 0.25352-0.57195 0.569-0.568l6.188 0.09c0.49627 0.00613 0.73988 0.60701 0.388 0.957l-1.722 1.721 2.863 2.863-2.658 2.658-2.863-2.863-1.722 1.722c-0.348 0.348-0.949 0.102-0.957-0.393z"}),n.createElement("path",{className:"el-1",d:"m19.231 7.585 1.722 1.722c0.35033 0.3522 0.95174 0.10774 0.957-0.389l0.09-6.188c0.0034-0.31509-0.25291-0.57138-0.568-0.568l-6.189 0.09c-0.49626 0.00613-0.73988 0.60701-0.388 0.957l1.718 1.713-2.863 2.863 2.658 2.659z"}),n.createElement("path",{className:"el-2",d:"m2.573 21.839 6.188-0.09c0.49627-0.0061 0.73988-0.607 0.388-0.957l-1.722-1.718 2.863-2.863-2.658-2.659-2.863 2.863-1.722-1.722c-0.35033-0.3522-0.95174-0.10774-0.957 0.389l-0.09 6.188c0 0.315 0.258 0.573 0.573 0.569z"}),n.createElement("path",{className:"el-3",d:"m14.85 20.832c-0.35253 0.35067-0.10722 0.95262 0.39 0.957l6.187 0.09c0.31548 0.0039 0.57239-0.25252 0.569-0.568l-0.09-6.188c-0.0053-0.49674-0.60667-0.7412-0.957-0.389l-1.722 1.722-2.863-2.863-2.658 2.659 2.863 2.863z"})))})),f=(0,n.memo)((()=>n.createElement("div",null,n.createElement(a.Z,null),n.createElement(l.Z,null),n.createElement(o.Z,null),n.createElement(b,null),n.createElement(i.Z,null),n.createElement(c.Z,null))))}}]);
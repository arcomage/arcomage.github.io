"use strict";(self.webpackChunkarcomage_hd=self.webpackChunkarcomage_hd||[]).push([[7463],{78410:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(79878),a=n(83505),r=n(1545),l=n(23071),u=n(32817),c=n(40052),y=n(42034),f=n(91757),d=n(15069),v=n(37053),O=n(81317),g=n(82148),b=n(17750);t.Z=(e,t)=>e.pipe((0,o.h)((0,f.isOfType)(p.$u)),(0,i.z)((t=>{const{peer:n}=v.bb;if(null===n)return r.E;const o=new Promise(((e,p)=>{if(null!==n){let o=null,i=null,s=0;const a=()=>{s>O.ZL&&(null!==o&&o.close(),p(!1)),s+=1,(null===o||null!==o&&!o.open)&&(null!==o&&o.close(),o=n.connect(t.id),v.bb.conn=o),i=setTimeout(a,O.iu*s),o.on("open",(()=>{null!==i&&clearTimeout(i),e(null)}))};a(),n.on("error",(e=>{null!==o&&o.close(),p(e)}))}}));return(0,l.T)((0,u.of)({type:p.ns,status:"connecting_to_id"}),(0,c.D)(o).pipe((0,i.z)((e=>(g._.reset(),g.q.reset(),(0,b.Z)("host connected to guest; sendSeq & receiveSeq reset","note"),(0,y.z)((0,u.of)({type:p.ns,status:"connected_to_id"}),(0,u.of)({type:p.Mv,id:t.id}),(0,u.of)({type:p.Fk,host:!0}))))),(0,s.K)((e=>((0,b.Z)(`${e}`,"error"),(0,u.of)({type:p.ns,status:"failed"})))))).pipe((0,a.R)(e.pipe((0,d.l)(p.Cv))))})))},7668:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(79878),a=n(83505),r=n(23071),l=n(32817),u=n(40052),c=n(42034),y=n(91757),f=n(15069),d=n(37053),v=n(17750);t.Z=(e,t)=>e.pipe((0,o.h)((0,y.isOfType)(p.co)),(0,i.z)((t=>{const n=new Promise(((e,t)=>{(0,d.kL)();const{peer:n}=d.bb;null!==n&&(n.on("open",(t=>{e(t)})),n.on("error",(e=>{t(e)})))}));return(0,r.T)((0,l.of)({type:p.ns,status:"connecting_net"}),(0,u.D)(n).pipe((0,i.z)((e=>(0,c.z)((0,l.of)({type:p.ns,status:"connected_net"}),(0,l.of)({type:p.QU,id:e}),(0,l.of)({type:p.MR})))),(0,s.K)((e=>((0,v.Z)(`${e}`,"error"),(0,l.of)({type:p.ns,status:"failed"})))))).pipe((0,a.R)(e.pipe((0,f.l)(p.Cv))))})))},27360:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(63428),a=n(83505),r=n(1545),l=n(23071),u=n(22401),c=n(32817),y=n(42034),f=n(91757),d=n(15069),v=n(37053),O=n(82148),g=n(17750),b=n(23644);t.Z=(e,t)=>e.pipe((0,o.h)((0,f.isOfType)(p.Fk)),(0,i.z)((n=>{const{conn:o}=v.bb,f=n.host?"host":"guest";return null===o?r.E:(0,l.T)((0,u.R)(o,"data").pipe((0,i.z)((e=>((0,g.Z)(`${f}. received: ${e}`,"note"),(0,c.of)({type:b.S1?p.It:p.Vt,data:e}))))),(0,u.R)(o,"open").pipe((0,i.z)((()=>n.host?r.E:(O._.reset(),O.q.reset(),(0,g.Z)("guest connected by host; sendSeq & receiveSeq reset","note"),(0,y.z)((0,c.of)({type:p.Mv,id:o.peer}),(0,c.of)({type:p.ns,status:"connected_by_id"})))))),(0,u.R)(o,"close").pipe((0,s.M)(t),(0,i.z)((([e,t])=>{const n=t.multiplayer.gameNumber;return(0,y.z)((0,c.of)({type:p.ns,status:"connected_net"}),n>0?(0,y.z)((0,c.of)({type:p.MZ,show:!0})):r.E,(0,c.of)({type:p.xD,n:-1}))}))),(0,u.R)(o,"error").pipe((0,i.z)((()=>((0,g.Z)("error emitted by conn","error"),r.E))))).pipe((0,a.R)(e.pipe((0,d.l)(p.Cv))))})))},37365:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(42034),a=n(32817),r=n(91757),l=n(37053);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.PY)),(0,i.z)((e=>{const{peer:t}=l.bb;return null!==t&&(t.disconnect(),t.destroy(),(0,l.zQ)()),(0,s.z)((0,a.of)({type:p.Cv}),(0,a.of)({type:p.QU,id:""}),(0,a.of)({type:p.xD,n:-1}))})))},10228:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(1545),r=n(23071),l=n(22401),u=n(42034),c=n(32817),y=n(91757),f=n(15069),d=n(37053),v=n(17750);t.Z=(e,t)=>e.pipe((0,o.h)((0,y.isOfType)(p.MR)),(0,i.z)((t=>{const{peer:n}=d.bb;return null===n?a.E:(0,r.T)((0,l.R)(n,"connection").pipe((0,i.z)((e=>(d.bb.conn=e,(0,u.z)((0,c.of)({type:p.Fk,host:!1})))))),(0,l.R)(n,"disconnected").pipe((0,i.z)((()=>(0,u.z)((0,c.of)({type:p.ns,status:"disconnected"}),(0,c.of)({type:p.xD,n:-1}))))),(0,l.R)(n,"close").pipe((0,i.z)((()=>(0,u.z)((0,c.of)({type:p.ns,status:"disconnected"}),(0,c.of)({type:p.xD,n:-1}))))),(0,l.R)(n,"error").pipe((0,i.z)((()=>((0,v.Z)("error emitted by peer","error"),a.E))))).pipe((0,s.R)(e.pipe((0,f.l)(p.Cv))))})))},29970:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(45626),a=n(1545),r=n(32817),l=n(42034),u=n(91757),c=n(70377),y=n(13875),f=n(17750),d=n(82148);t.Z=(e,t)=>e.pipe((0,o.h)((0,u.isOfType)(p.It)),(0,i.z)((e=>{const{data:t}=e;(0,f.Z)(`received: ${t}`,"note");try{const e=JSON.parse(t),n=d.q.getUsableConnDataList(e);if(null===n)return a.E;const o=n.map((e=>{const{kind:t,data:n,gameNumber:o}=e;if(t===y.d){if(c.sh.includes(n.type))return(0,c.GY)(n)?n.type===p.S9?(0,r.of)(Object.assign(Object.assign({},n),{prevGameNumber:o})).pipe((0,s.g)(0)):(0,r.of)(Object.assign(Object.assign({},n),{gameNumber:o})).pipe((0,s.g)(0)):(0,r.of)(n).pipe((0,s.g)(0));(0,f.Z)(`received non-instruction action: ${JSON.stringify(e)}`,"error")}return a.E}));return(0,l.z)(...o)}catch(e){}return a.E})))},60751:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(45626),a=n(32817),r=n(91757),l=n(23644),u=n(39451),c=n(17750);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.Vt)),(0,i.z)((e=>{const t=l.S1?0:(0,u.v8)(l.WM[0],l.WM[1]);(0,c.Z)(`received before latency: ${e.data}`,"note"),(0,c.Z)(`latency simulated: ${t}`,"note");const{type:n}=e,o=function(e,t){var n={};for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&t.indexOf(p)<0&&(n[p]=e[p]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(p=Object.getOwnPropertySymbols(e);o<p.length;o++)t.indexOf(p[o])<0&&Object.prototype.propertyIsEnumerable.call(e,p[o])&&(n[p[o]]=e[p[o]])}return n}(e,["type"]);return(0,a.of)(Object.assign({type:p.It},o)).pipe((0,s.g)(t))})))},10441:function(e,t,n){var p=n(63211),o=n(94975),i=n(63428),s=n(87877),a=n(1545),r=n(91757),l=n(37053),u=n(17750),c=n(82148);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.H8)),(0,i.M)(t),(0,s.z)((([e,t])=>{const{gameNumber:n}=t.multiplayer,{kind:p,data:o}=e,{conn:i}=l.bb;if(null!==i){c._.add();const e={kind:p,data:o,seq:c._.v,gameNumber:n},t=JSON.stringify(e).replace(/[\u007F-\uFFFF]/g,(e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).substr(-4)));i.send(t),(0,u.Z)(`sent: ${t}`,"note")}return a.E})))},74555:function(e,t,n){var p=n(63211),o=n(94975),i=n(42965),s=n(87877),a=n(32817),r=n(91757),l=n(13875),u=n(81317);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.SA)),(0,i.b)(u.de),(0,s.z)((e=>{const{name:t}=e;return(0,a.of)({type:p.H8,kind:l.d,data:{type:p.w4,name:t}})})))},92087:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(91757),r=n(15069),l=n(13875),u=n(42034),c=n(32817),y=n(1545);t.Z=(e,t)=>e.pipe((0,o.h)((0,a.isOfType)(p.yJ)),(0,i.z)((t=>{const{payload:n}=t,o=n;return o?(0,u.z)((0,c.of)({type:p.c8}),(0,c.of)({type:p.H8,kind:l.d,data:{type:p.oG,payload:o}}),(0,c.of)({type:p.H8,kind:l.d,data:{type:p.I4,payload:o}})).pipe((0,s.R)(e.pipe((0,r.l)(p.Cv)))):y.E})))},62884:function(e,t,n){var p=n(63211),o=n(94975),i=n(42965),s=n(87877),a=n(83505),r=n(91757),l=n(15069),u=n(13875),c=n(32817),y=n(23071),f=n(81317);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.Ey)),(0,i.b)(f.de),(0,s.z)((t=>{const{payload:n}=t;return(0,c.of)({type:p.H8,kind:u.d,data:{type:p.oG,payload:n}}).pipe((0,a.R)((0,y.T)(e.pipe((0,l.l)(p.c8)),e.pipe((0,l.l)(p.Cv)))))})))},84694:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(42034),r=n(32817),l=n(91757),u=n(15069);t.Z=(e,t)=>e.pipe((0,o.h)((0,l.isOfType)(p.LM)),(0,i.z)((t=>{const{on:n}=t;return(0,a.z)(n?(0,r.of)({type:p.co}):(0,r.of)({type:p.PY}),(0,r.of)({type:p.Ig,on:n})).pipe((0,s.R)(e.pipe((0,u.l)(p.Cv))))})))},74206:function(e,t,n){var p=n(63211),o=n(94975),i=n(63428),s=n(87877),a=n(91757),r=n(42034),l=n(32817);t.Z=(e,t)=>e.pipe((0,o.h)((0,a.isOfType)(p.gC)),(0,i.M)(t),(0,s.z)((([e,t])=>{const n=t.multiplayer.gameNumber>0&&"connected_by_id"===t.multiplayer.status;return(0,r.z)((0,l.of)({type:p.Wz,payload:{type:null}}),n?(0,l.of)({type:p.mv}):(0,l.of)({type:p.qg,fromScreenEnd:!0}))})))},78373:function(e,t,n){var p=n(63211),o=n(94975),i=n(63428),s=n(87877),a=n(91757),r=n(56187),l=n(42034),u=n(32817),c=n(20401);const y={lose:"defeat",tie:"victory",win:"victory"};t.Z=(e,t)=>e.pipe((0,o.h)((0,a.isOfType)(p.Wz)),(0,i.M)(t),(0,s.z)((([e,t])=>{const{payload:n}=e;return(0,r.U)(n)&&(0,c.h)(y[n.type]),(0,l.z)((0,u.of)({type:p.OU}),(0,u.of)({type:p.SO,payload:n}))})))},67032:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(42034),r=n(32817),l=n(1545),u=n(91757),c=n(15069),y=n(97257),f=n(39451),d=n(48093);t.Z=(e,t)=>e.pipe((0,o.h)((0,u.isOfType)(p.Qb)),(0,i.z)((t=>{(0,y.hG)();const n=(0,y.UY)(["lang","code"]),o=(0,y.UY)(["lang","erathian"]),i=(0,y.UY)(["settings"]),u=(0,y.UY)(["sound","volume"]),v=(0,y.UY)(["sound","stereo"]),O=(0,y.UY)(["visual","pixelation"]),g=(0,y.UY)(["visual","visualvalues"]),b=(0,y.UY)(["ai","aiLevel"]);return(0,a.z)(null!==i?(0,r.of)({type:p.Nc,payload:i}):(0,r.of)({type:p.Nc,payload:{playerName:(0,f.UP)(d.yk),opponentName:(0,f.UP)(d.eA)}}),null!==n?(0,r.of)({type:p.bd,lang:n}):l.E,null!==o?(0,r.of)({type:p._G,erathian:o}):l.E,null!==u?(0,r.of)({type:p.cJ,volume:u}):l.E,null!==v?(0,r.of)({type:p.N8,stereo:v}):l.E,null!==O?(0,r.of)({type:p.rW,pixelation:O}):l.E,null!==g?(0,r.of)({type:p.ir,payload:g}):l.E,null!==b?(0,r.of)({type:p.pv,aiLevel:b}):l.E,(0,r.of)({type:p.qg})).pipe((0,s.R)(e.pipe((0,c.l)(p.OU))))})))},99592:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.Cm)),(0,i.z)((t=>{const{aiLevel:n}=t;return(0,u.HG)((e=>{void 0===e.ai?e.ai={aiLevel:n}:e.ai.aiLevel=n})),(0,a.of)({type:p.pv,aiLevel:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},77102:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(68199);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p._g)),(0,i.z)((t=>{const{erathian:n}=t;return(0,u.HG)((e=>{void 0===e.lang?e.lang={code:c.Fp,erathian:n}:e.lang.erathian=n})),(0,a.of)({type:p._G,erathian:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},47515:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(48093);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.yv)),(0,i.z)((t=>{const{lang:n}=t;return(0,u.HG)((e=>{void 0===e.lang?e.lang={code:n,erathian:c.QZ}:e.lang.code=n})),(0,a.of)({type:p.bd,lang:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},23805:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(48093);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.z1)),(0,i.z)((t=>{const{pixelation:n}=t;return(0,u.HG)((e=>{void 0===e.visual?e.visual={pixelation:n,visualvalues:c.yf}:e.visual.pixelation=n})),(0,a.of)({type:p.rW,pixelation:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},23201:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(48093),y=n(39451);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.I4)),(0,i.z)((t=>{const{payload:n}=t;return(0,u.HG)((e=>{void 0===e.settings?e.settings=Object.assign(Object.assign(Object.assign({},c.pt),{playerName:(0,y.UP)(c.yk),opponentName:(0,y.UP)(c.eA)}),n):e.settings=Object.assign(Object.assign({},e.settings),n)})),(0,a.of)({type:p.Nc,payload:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},76320:function(e,t,n){var p=n(63211),o=n(94975),i=n(63428),s=n(87877),a=n(45626),r=n(42034),l=n(32817),u=n(1545),c=n(91757);t.Z=(e,t)=>e.pipe((0,o.h)((0,c.isOfType)(p.cQ)),(0,i.M)(t),(0,s.z)((([e,t])=>{const{payload:n}=e,o=t.multiplayer.on&&"connected_to_id"===t.multiplayer.status;return(0,r.z)((0,l.of)({type:p.I4,payload:n}),o?(0,l.of)({type:p.yJ,payload:n}):u.E,(0,l.of)({type:p.qg}).pipe((0,a.g)(0)))})))},53110:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(48093);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.qR)),(0,i.z)((t=>{const{stereo:n}=t;return(0,u.HG)((e=>{void 0===e.sound?e.sound={volume:c.Yz,stereo:n}:e.sound.stereo=n})),(0,a.of)({type:p.N8,stereo:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},99381:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(48093);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.TH)),(0,i.z)((t=>{const{payload:n}=t;return(0,u.HG)((e=>{void 0===e.visual?e.visual={pixelation:c.p8,visualvalues:Object.assign(Object.assign({},c.yf),n)}:e.visual.visualvalues=Object.assign(Object.assign({},e.visual.visualvalues),n)})),(0,a.of)({type:p.ir,payload:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},40706:function(e,t,n){var p=n(63211),o=n(94975),i=n(87877),s=n(83505),a=n(32817),r=n(91757),l=n(15069),u=n(97257),c=n(48093);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.j4)),(0,i.z)((t=>{const{volume:n}=t;return(0,u.HG)((e=>{void 0===e.sound?e.sound={volume:n,stereo:c.j0}:e.sound.volume=n})),(0,a.of)({type:p.cJ,volume:n}).pipe((0,s.R)(e.pipe((0,l.l)(p.OU))))})))},6709:function(e,t,n){var p=n(63211),o=n(94975),i=n(63428),s=n(87877),a=n(83505),r=n(91757),l=n(15069),u=n(96559),c=n(91304),y=n(32817);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.k4)),(0,i.M)(t),(0,s.z)((([t,n])=>{const o=n.status[t.owner],i=(0,u.qh)(c.cs).map((([e,n])=>({isPlayer:"player"===t.owner,statusProp:n,diff:o[e],noSound:!0})));return(0,y.of)({type:p.g$,payload:i}).pipe((0,a.R)(e.pipe((0,l.l)(p.OU))))})))},94132:function(e,t,n){var p=n(63211),o=n(94975),i=n(63428),s=n(87877),a=n(83505),r=n(91757),l=n(15069),u=n(20401),c=n(42034),y=n(32817);t.Z=(e,t)=>e.pipe((0,o.h)((0,r.isOfType)(p.g$)),(0,i.M)(t),(0,s.z)((([t,n])=>{const o=t.payload.map((e=>{const{isPlayer:t,statusProp:p,noSound:o}=e;let i=null;if("to"in e){const o=n.status[t?"player":"opponent"][p];e.to!==o&&(i=e.to>o)}else 0!==e.diff&&(i=e.diff>0);return o||(0,u.h)(p,i,n.sound.stereo?t:0),Object.assign({isPlayer:t,statusProp:p},"to"in e?{to:e.to}:{diff:e.diff})}));return(0,c.z)((0,y.of)({type:p.l7,payload:o}),(0,y.of)({type:p.Qo}),(0,y.of)({type:p.Dt})).pipe((0,a.R)(e.pipe((0,l.l)(p.OU))))})))}}]);
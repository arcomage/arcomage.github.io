"use strict";(self.webpackChunkarcomage_hd=self.webpackChunkarcomage_hd||[]).push([[7038],{5150:(e,n,t)=>{t(18374);var s=t(67294),a=t(73935),o=t(9835),i=t(76398),r=t(14890),l=t(29804),c=t(18172),u=t(63211),d=t(48093);const p=(0,c.ZP)(((e,n)=>{switch(n.type){case u.F5:return{player:Object.assign({},n.payload),opponent:Object.assign({},n.payload)};case u.l7:for(const t of n.payload){const{isPlayer:n,statusProp:s}=t;"to"in t?e[n?"player":"opponent"][s]=t.to:e[n?"player":"opponent"][s]+=t.diff}}}),d.U8),h={code:t(68199).Fp,erathian:d.QZ},w=(0,c.ZP)(((e,n)=>{switch(n.type){case u.bd:e.code=n.lang;break;case u._G:e.erathian=n.erathian}}),h),m=(0,c.ZP)(((e,n)=>{switch(n.type){case u.zn:return n.payload;case u.$Z:e.list.push({n:n.n,position:-1,owner:"common",unusable:!1,discarded:!1,isFlipped:!0,zeroOpacity:!1});break;case u.B4:{const{owner:t}=n,s=e.nextPos[t];e.total[t]+=1;const a=e.list;a.forEach((e=>{(null==e?void 0:e.owner)===t&&e.position>=s&&(e.position+=1)}));const o=a[a.length-1];null!==o&&(o.position=s,o.owner=t,o.isFlipped=!1);break}case u.PX:{const t=e.list[n.index];null!==t&&(t.position=-5,t.unusable=!0,t.owner="common");break}case u._d:{const t=e.list[n.index];null!==t&&(t.position=n.toPosition,t.unusable=!0,t.owner="common");break}case u.EK:{const t=e.list[n.index];null!==t&&(t.position=-1,t.unusable=!0,t.isFlipped=!0,t.owner="common");break}case u.OK:{const t=e.list[n.index];null!==t&&(t.zeroOpacity=!0);break}case u.fj:if(null!==e.list[n.index]){const t=n.owner;e.total[t]-=1,e.list.forEach((e=>{(null==e?void 0:e.owner)===t&&e.position>n.position&&(e.position-=1)})),e.nextPos[t]=n.position}break;case u.iE:{const t=e.list[n.index];null!==t&&(t.discarded=!0);break}case u.M2:null!==e.list[n.index]&&(e.list[n.index]=null);break;case u.R9:n.unusables.forEach((n=>{const t=e.list[n];null!==t&&(t.unusable=!0)})),n.usables.forEach((n=>{const t=e.list[n];null!==t&&(t.unusable=!1)}))}}),{total:{player:0,opponent:0},list:[],nextPos:{player:0,opponent:0}}),b={playersTurn:!0,locked:[!1,!1],discardMode:!1,isNewTurn:!0},y=(0,c.ZP)(((e,n)=>{var t;switch(n.type){case u.s3:return Object.assign(Object.assign({},b),{playersTurn:n.playersTurn});case u.vd:e.discardMode=n.on;break;case u.K5:e.playersTurn=!e.playersTurn;break;case u.Ut:{const s=null!==(t=n.locknumber)&&void 0!==t?t:0;e.locked[s]=n.on;break}case u.Z$:e.isNewTurn=n.on}}),b),v=(0,c.ZP)(((e,n)=>{if(n.type===u.Nc)return Object.assign(Object.assign({},e),n.payload)}),d.pt),f=(0,c.ZP)(((e,n)=>{switch(n.type){case u.fy:e.pref=n.show;break;case u.e8:e.langPref=n.show;break;case u.je:e.volumePref=n.show;break;case u.Xc:e.help=n.show;break;case u.Ij:e.landscape=n.show;break;case u.MZ:e.disconnectNotice=n.show;break;case u.SO:e.end.type=n.payload.type,e.end.surrender=n.payload.surrender}}),{pref:!1,langPref:!1,volumePref:!1,help:!1,landscape:!1,disconnectNotice:!1,end:{type:null}}),k=(0,c.ZP)(((e,n)=>{if(n.type===u.cJ)return n.volume}),d.Yz),g={pixelation:d.p8},P=(0,c.ZP)(((e,n)=>{n.type===u.rW&&(e.pixelation=n.pixelation)}),g),E={aiLevel:d.mM},x=(0,c.ZP)(((e,n)=>{n.type===u.pv&&(e.aiLevel=n.aiLevel)}),E),Z={on:!1,yourId:"",opponentId:"",status:"disconnected",tempSettings:Object.assign({},d.he),tempPlayerName:"",tempOpponentName:"",gameNumber:-1},_=(0,c.ZP)(((e,n)=>{switch(n.type){case u.Ig:e.on=n.on;break;case u.QU:e.yourId=n.id;break;case u.Mv:e.opponentId=n.id;break;case u.ns:e.status=n.status;break;case u.xD:e.gameNumber=n.n;break;case u.oG:null!==n.payload&&(e.tempSettings=n.payload);break;case u.vm:e.tempPlayerName=n.name;break;case u.w4:e.tempOpponentName=n.name}}),Z),M=(0,r.UY)({status:p,lang:w,cards:m,game:y,settings:v,screen:f,volume:k,visual:P,ai:x,multiplayer:_}),O=(0,t(78507).k)(),S=(0,r.MT)(M,(0,l.Uo)((0,r.md)(O)));var N=t(17474),j=t(74983),q=t(18255),I=t(70405);t(67728),O.run(N.Z),a.render(s.createElement(s.StrictMode,null,s.createElement(i.zt,{store:S},s.createElement(j.b,null,s.createElement(q.S,null,s.createElement(I.B,null,s.createElement(o.Z,null)))))),document.getElementById("root"))},70377:(e,n,t)=>{t.d(n,{sh:()=>o,GY:()=>r});var s=t(63211),a=t(96559);const o=[s.oG,s.w4,s.I4,s.M0,s.u3,s.S9,s.pS],i=[s.M0,s.u3,s.S9],r=e=>(0,a.dB)(e.type,i)},56187:(e,n,t)=>{t.d(n,{U:()=>s});const s=e=>null!==e.type},43543:(e,n,t)=>{t.d(n,{_:()=>p,f:()=>h});var s=t(67294),a=t(18255);const o=188/252,i=(e,n,t)=>.8*e*o*t+(5*(t-1)+15)<=n,r=(e,n,t)=>i(e,n,t)?.8*e:l(e,n,t)/o,l=(e,n,t)=>i(e,n,t)?r(e,n,t)*o:(n-(5*(t-1)+15))/t,c=(e,n,t)=>i(t,e,n)?(e-l(t,e,n)*n)/(n-1+3):5,u=(e,n,t,s)=>a=>{const o=a-5;return o>=0?n*(s?.5:2/3)+(n*(s?.5:1/3)-r(n*(s?.5:1/3),t,e))/2:-5===o?n*(s?.5:2/3)-r(n*(s?.5:1/3),t,e)+16*(s?1:-1):16},d=(e,n,t,s)=>a=>{const o=a-5;return o>=0?((e,n,t)=>1.5*c(e,n,t))(t,e,n*(s?.5:1/3))+(l(n*(s?.5:1/3),t,e)+c(t,e,n*(s?.5:1/3)))*o:-5===o?t/2-l(n*(s?.5:1/3),t,e)/2:t/2-(l(n*(s?.5:1/3),t,e)*(o+3)-10*(-2.5-o))},p=(0,s.createContext)(null),h=({cardsInHand:e,winHeight:n,winWidth:t,children:o})=>{const[i,c]=(0,s.useState)(null),h=(0,s.useContext)(a.$),{narrowMobile:w}=h;return(0,s.useEffect)((()=>{const s=e+1,a=[...Array(s+5).keys()],o=n*(w?.5:1/3),i=l(o,t,s),p=r(o,t,s),h=a.map(u(s,n,t,w)),m=a.map(u(s-1,n,t,w)),b=a.map(d(s,n,t,w)),y=a.map(d(s-1,n,t,w));c({width:i,height:p,total:s,top:h,left:b,topM1:m,leftM1:y})}),[e,n,t,w]),s.createElement(p.Provider,{value:i},o)}},18255:(e,n,t)=>{t.d(n,{$:()=>i,S:()=>r});var s=t(67294),a=t(81317);const o={width:window.innerWidth,height:window.innerHeight,narrowMobile:!1},i=(0,s.createContext)(o),r=({children:e})=>{const[n,t]=(0,s.useState)(o);return(0,s.useEffect)((()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight,narrowMobile:window.innerHeight<=a.GS})};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),e(),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]),s.createElement(i.Provider,{value:n},e)}},80127:(e,n,t)=>{t.d(n,{Z:()=>s});const s=class{constructor(){this._queue=[],this._resolves=[]}get size(){return this._queue.length}init(){this._queue=[],this._resolves=[]}enqueue(e){const n=this._resolves.shift();void 0===n?this._queue.push(e):n(e)}dequeue(e=!1){var n;return null!==(n=e?this._queue[0]:this._queue.shift())&&void 0!==n?n:null}dequeueAsync(){var e,n,t,s,a;return n=this,t=void 0,a=function*(){return null!==(e=this._queue.shift())&&void 0!==e?e:new Promise(((e,n)=>{this._resolves.push(e)}))},new((s=void 0)||(s=Promise))((function(e,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,r)}l((a=a.apply(n,t||[])).next())}))}}}}]);
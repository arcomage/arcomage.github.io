(self.webpackChunkarcomage_hd=self.webpackChunkarcomage_hd||[]).push([[7463],{78410:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(40486),r=n(1558),a=n(5631),c=n(14370),y=n(18170),u=n(55760),f=n(6353),l=n(91757),d=n(37053),g=n(81317),v=n(82148),b=n(17750);t.Z=(e,t)=>e.pipe((0,p.h)((0,l.isOfType)(o.$u)),(0,s.zg)((t=>{const{peer:n}=d.bb;if(null===n)return a.E;const p=new Promise(((e,o)=>{if(null!==n){let p=null,s=null,i=0;const r=()=>{i>g.ZL&&(null!==p&&p.close(),o(!1)),i+=1,(null===p||null!==p&&!p.open)&&(null!==p&&p.close(),p=n.connect(t.id),d.bb.conn=p),s=setTimeout(r,g.iu*i),p.on("open",(()=>{null!==s&&clearTimeout(s),e(null)}))};r(),n.on("error",(e=>{null!==p&&p.close(),o(e)}))}}));return(0,c.T)((0,y.of)({type:o.ns,status:"connecting_to_id"}),(0,u.D)(p).pipe((0,s.zg)((e=>(v._.reset(),v.q.reset(),(0,b.Z)("host connected to guest; sendSeq & receiveSeq reset","note"),(0,f.z)((0,y.of)({type:o.ns,status:"connected_to_id"}),(0,y.of)({type:o.Mv,id:t.id}),(0,y.of)({type:o.Fk,host:!0}))))),(0,i.K)((e=>((0,b.Z)(`${e}`,"error"),(0,y.of)({type:o.ns,status:"failed"})))))).pipe((0,r.R)(e.ofType(o.Cv)))})))},87878:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(40486),r=n(1558),a=n(14370),c=n(18170),y=n(55760),u=n(6353),f=n(91757),l=n(37053),d=n(17750);t.Z=(e,t)=>e.pipe((0,p.h)((0,f.isOfType)(o.co)),(0,s.zg)((t=>{const n=new Promise(((e,t)=>{(0,l.kL)();const{peer:n}=l.bb;null!==n&&(n.on("open",(t=>{e(t)})),n.on("error",(e=>{t(e)})))}));return(0,a.T)((0,c.of)({type:o.ns,status:"connecting_net"}),(0,y.D)(n).pipe((0,s.zg)((e=>(0,u.z)((0,c.of)({type:o.ns,status:"connected_net"}),(0,c.of)({type:o.QU,id:e}),(0,c.of)({type:o.MR})))),(0,i.K)((e=>((0,d.Z)(`${e}`,"error"),(0,c.of)({type:o.ns,status:"failed"})))))).pipe((0,r.R)(e.ofType(o.Cv)))})))},27360:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(43825),r=n(1558),a=n(5631),c=n(14370),y=n(57027),u=n(18170),f=n(6353),l=n(91757),d=n(37053),g=n(82148),v=n(17750),b=n(23644);t.Z=(e,t)=>e.pipe((0,p.h)((0,l.isOfType)(o.Fk)),(0,s.zg)((n=>{const{conn:p}=d.bb,l=n.host?"host":"guest";return null===p?a.E:(0,c.T)((0,y.R)(p,"data").pipe((0,s.zg)((e=>((0,v.Z)(`${l}. received: ${e}`,"note"),(0,u.of)({type:b.S1?o.It:o.Vt,data:e}))))),(0,y.R)(p,"open").pipe((0,s.zg)((()=>n.host?a.E:(g._.reset(),g.q.reset(),(0,v.Z)("guest connected by host; sendSeq & receiveSeq reset","note"),(0,f.z)((0,u.of)({type:o.Mv,id:p.peer}),(0,u.of)({type:o.ns,status:"connected_by_id"})))))),(0,y.R)(p,"close").pipe((0,i.M)(t),(0,s.zg)((([e,t])=>{const n=t.multiplayer.gameNumber;return(0,f.z)((0,u.of)({type:o.ns,status:"connected_net"}),n>0?(0,f.z)((0,u.of)({type:o.MZ,show:!0})):a.E,(0,u.of)({type:o.xD,n:-1}))}))),(0,y.R)(p,"error").pipe((0,s.zg)((()=>((0,v.Z)("error emitted by conn","error"),a.E))))).pipe((0,r.R)(e.ofType(o.Cv)))})))},37365:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(6353),r=n(18170),a=n(91757),c=n(37053);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.PY)),(0,s.zg)((e=>{const{peer:t}=c.bb;return null!==t&&(t.disconnect(),t.destroy(),(0,c.zQ)()),(0,i.z)((0,r.of)({type:o.Cv}),(0,r.of)({type:o.QU,id:""}),(0,r.of)({type:o.xD,n:-1}))})))},10228:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(5631),a=n(14370),c=n(57027),y=n(6353),u=n(18170),f=n(91757),l=n(37053),d=n(17750);t.Z=(e,t)=>e.pipe((0,p.h)((0,f.isOfType)(o.MR)),(0,s.zg)((t=>{const{peer:n}=l.bb;return null===n?r.E:(0,a.T)((0,c.R)(n,"connection").pipe((0,s.zg)((e=>(l.bb.conn=e,(0,y.z)((0,u.of)({type:o.Fk,host:!1})))))),(0,c.R)(n,"disconnected").pipe((0,s.zg)((()=>(0,y.z)((0,u.of)({type:o.ns,status:"disconnected"}),(0,u.of)({type:o.xD,n:-1}))))),(0,c.R)(n,"close").pipe((0,s.zg)((()=>(0,y.z)((0,u.of)({type:o.ns,status:"disconnected"}),(0,u.of)({type:o.xD,n:-1}))))),(0,c.R)(n,"error").pipe((0,s.zg)((()=>((0,d.Z)("error emitted by peer","error"),r.E))))).pipe((0,i.R)(e.ofType(o.Cv)))})))},29970:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(55022),r=n(5631),a=n(18170),c=n(6353),y=n(91757),u=n(70377),f=n(13875),l=n(17750),d=n(82148);t.Z=(e,t)=>e.pipe((0,p.h)((0,y.isOfType)(o.It)),(0,s.zg)((e=>{const{data:t}=e;(0,l.Z)(`received: ${t}`,"note");try{const e=JSON.parse(t),n=d.q.getUsableConnDataList(e);if(null===n)return r.E;const p=n.map((e=>{const{kind:t,data:n,gameNumber:p}=e;switch(t){case f.d:if(u.sh.includes(n.type))return(0,u.GY)(n)?n.type===o.S9?(0,a.of)(Object.assign(Object.assign({},n),{prevGameNumber:p})).pipe((0,i.g)(0)):(0,a.of)(Object.assign(Object.assign({},n),{gameNumber:p})).pipe((0,i.g)(0)):(0,a.of)(n).pipe((0,i.g)(0));(0,l.Z)(`received non-instruction action: ${JSON.stringify(e)}`,"error")}return r.E}));return(0,c.z)(...p)}catch(e){}return r.E})))},60751:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(55022),r=n(18170),a=n(91757),c=n(23644),y=n(39451),u=n(17750);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.Vt)),(0,s.zg)((e=>{const t=c.S1?0:(0,y.v8)(c.WM[0],c.WM[1]);(0,u.Z)(`received before latency: ${e.data}`,"note"),(0,u.Z)(`latency simulated: ${t}`,"note");const{type:n}=e,p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(e);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(e,o[p])&&(n[o[p]]=e[o[p]])}return n}(e,["type"]);return(0,r.of)(Object.assign({type:o.It},p)).pipe((0,i.g)(t))})))},10441:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(43825),i=n(47746),r=n(5631),a=n(91757),c=n(37053),y=n(17750),u=n(82148);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.H8)),(0,s.M)(t),(0,i.zg)((([e,t])=>{const{gameNumber:n}=t.multiplayer,{kind:o,data:p}=e,{conn:s}=c.bb;if(null!==s){u._.add();const e={kind:o,data:p,seq:u._.v,gameNumber:n},t=JSON.stringify(e).replace(/[\u007F-\uFFFF]/g,(e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).substr(-4)));s.send(t),(0,y.Z)(`sent: ${t}`,"note")}return r.E})))},74555:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(3283),i=n(47746),r=n(18170),a=n(91757),c=n(13875),y=n(81317);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.SA)),(0,s.b)(y.de),(0,i.zg)((e=>{const{name:t}=e;return(0,r.of)({type:o.H8,kind:c.d,data:{type:o.w4,name:t}})})))},92087:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(91757),a=n(13875),c=n(6353),y=n(18170),u=n(5631);t.Z=(e,t)=>e.pipe((0,p.h)((0,r.isOfType)(o.yJ)),(0,s.zg)((t=>{const{payload:n}=t,p=n;return p?(0,c.z)((0,y.of)({type:o.c8}),(0,y.of)({type:o.H8,kind:a.d,data:{type:o.oG,payload:p}}),(0,y.of)({type:o.H8,kind:a.d,data:{type:o.I4,payload:p}})).pipe((0,i.R)(e.ofType(o.Cv))):u.E})))},62884:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(3283),i=n(47746),r=n(1558),a=n(91757),c=n(13875),y=n(18170),u=n(14370),f=n(81317);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.Ey)),(0,s.b)(f.de),(0,i.zg)((t=>{const{payload:n}=t;return(0,y.of)({type:o.H8,kind:c.d,data:{type:o.oG,payload:n}}).pipe((0,r.R)((0,u.T)(e.ofType(o.c8),e.ofType(o.Cv))))})))},84694:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(6353),a=n(18170),c=n(91757);t.Z=(e,t)=>e.pipe((0,p.h)((0,c.isOfType)(o.LM)),(0,s.zg)((t=>{const{on:n}=t;return(0,r.z)(n?(0,a.of)({type:o.co}):(0,a.of)({type:o.PY}),(0,a.of)({type:o.Ig,on:n})).pipe((0,i.R)(e.ofType(o.Cv)))})))},74206:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(43825),i=n(47746),r=n(91757),a=n(6353),c=n(18170);t.Z=(e,t)=>e.pipe((0,p.h)((0,r.isOfType)(o.gC)),(0,s.M)(t),(0,i.zg)((([e,t])=>{const n=t.multiplayer.gameNumber>0&&"connected_by_id"===t.multiplayer.status;return(0,a.z)((0,c.of)({type:o.Wz,payload:{type:null}}),n?(0,c.of)({type:o.mv}):(0,c.of)({type:o.qg,fromScreenEnd:!0}))})))},78373:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(43825),i=n(47746),r=n(91757),a=n(56187),c=n(6353),y=n(18170),u=n(71159);const f={lose:"defeat",tie:"victory",win:"victory"};t.Z=(e,t)=>e.pipe((0,p.h)((0,r.isOfType)(o.Wz)),(0,s.M)(t),(0,i.zg)((([e,t])=>{const{payload:n}=e;return(0,a.U)(n)&&(0,u.Z)(f[n.type],t.volume),(0,c.z)((0,y.of)({type:o.OU}),(0,y.of)({type:o.SO,payload:n}))})))},67032:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(6353),a=n(18170),c=n(5631),y=n(91757),u=n(97257),f=n(39451),l=n(48093);t.Z=(e,t)=>e.pipe((0,p.h)((0,y.isOfType)(o.Qb)),(0,s.zg)((t=>{(0,u.hG)();const n=(0,u.UY)(["lang","code"]),p=(0,u.UY)(["lang","erathian"]),s=(0,u.UY)(["settings"]),y=(0,u.UY)(["volume"]);return(0,r.z)(null!==s?(0,a.of)({type:o.Nc,payload:s}):(0,a.of)({type:o.Nc,payload:{playerName:(0,f.UP)(l.yk),opponentName:(0,f.UP)(l.eA)}}),null!==n?(0,a.of)({type:o.bd,lang:n}):c.E,null!==p?(0,a.of)({type:o._G,erathian:p}):c.E,null!==y?(0,a.of)({type:o.cJ,volume:y}):c.E,(0,a.of)({type:o.qg})).pipe((0,i.R)(e.ofType(o.OU)))})))},77102:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(18170),a=n(91757),c=n(97257),y=n(68199);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o._g)),(0,s.zg)((t=>{const{erathian:n}=t;return(0,c.HG)((e=>{void 0===e.lang?e.lang={code:y.F,erathian:n}:e.lang.erathian=n})),(0,r.of)({type:o._G,erathian:n}).pipe((0,i.R)(e.ofType(o.OU)))})))},47515:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(18170),a=n(91757),c=n(97257),y=n(48093);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.yv)),(0,s.zg)((t=>{const{lang:n}=t;return(0,c.HG)((e=>{void 0===e.lang?e.lang={code:n,erathian:y.QZ}:e.lang.code=n})),(0,r.of)({type:o.bd,lang:n}).pipe((0,i.R)(e.ofType(o.OU)))})))},23201:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(18170),a=n(91757),c=n(97257),y=n(48093),u=n(39451);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.I4)),(0,s.zg)((t=>{const{payload:n}=t;return(0,c.HG)((e=>{void 0===e.settings?e.settings=Object.assign(Object.assign(Object.assign({},y.pt),{playerName:(0,u.UP)(y.yk),opponentName:(0,u.UP)(y.eA)}),n):e.settings=Object.assign(Object.assign({},e.settings),n)})),(0,r.of)({type:o.Nc,payload:n}).pipe((0,i.R)(e.ofType(o.OU)))})))},76320:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(43825),i=n(47746),r=n(55022),a=n(6353),c=n(18170),y=n(5631),u=n(91757);t.Z=(e,t)=>e.pipe((0,p.h)((0,u.isOfType)(o.cQ)),(0,s.M)(t),(0,i.zg)((([e,t])=>{const{payload:n}=e,p=t.multiplayer.on&&"connected_to_id"===t.multiplayer.status;return(0,a.z)((0,c.of)({type:o.I4,payload:n}),p?(0,c.of)({type:o.yJ,payload:n}):y.E,(0,c.of)({type:o.qg}).pipe((0,r.g)(0)))})))},40706:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(47746),i=n(1558),r=n(18170),a=n(91757),c=n(97257);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.j4)),(0,s.zg)((t=>{const{volume:n}=t;return(0,c.HG)((e=>{e.volume=n})),(0,r.of)({type:o.cJ,volume:n}).pipe((0,i.R)(e.ofType(o.OU)))})))},6709:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(43825),i=n(47746),r=n(1558),a=n(91757),c=n(96559),y=n(91304),u=n(18170);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.k4)),(0,s.M)(t),(0,i.zg)((([t,n])=>{const p=n.status[t.owner],s=(0,c.qh)(y.cs).map((([e,n])=>({isPlayer:"player"===t.owner,statusProp:n,diff:p[e],noSound:!0})));return(0,u.of)({type:o.g$,payload:s}).pipe((0,r.R)(e.ofType(o.OU)))})))},94132:function(e,t,n){"use strict";var o=n(63211),p=n(66008),s=n(43825),i=n(47746),r=n(1558),a=n(91757),c=n(71159),y=n(6353),u=n(18170);t.Z=(e,t)=>e.pipe((0,p.h)((0,a.isOfType)(o.g$)),(0,s.M)(t),(0,i.zg)((([t,n])=>{const p=t.payload.map((e=>{const{isPlayer:t,statusProp:o,noSound:p}=e;let s=null;if("to"in e){const p=n.status[t?"player":"opponent"][o];e.to!==p&&(s=e.to>p)}else 0!==e.diff&&(s=e.diff>0);return p||(0,c.Z)(o,n.volume,s),Object.assign({isPlayer:t,statusProp:o},"to"in e?{to:e.to}:{diff:e.diff})}));return(0,y.z)((0,u.of)({type:o.l7,payload:p}),(0,u.of)({type:o.Qo}),(0,u.of)({type:o.Dt})).pipe((0,r.R)(e.ofType(o.OU)))})))}}]);
!function(){"use strict";var e,n,t,r={10488:function(e,n,t){t.d(n,{X:function(){return o},v:function(){return u}});const r=e=>(n,t,r,o,u=1,i=.5,c=.5)=>{const l=r/o,s=n/t;let a=n*u,d=t*u;return(e?l>s:l<s)?d=a/l:a=d*l,{width:a,height:d,offsetX:(n-a)*i,offsetY:(t-d)*c}},o=r(!0),u=r(!1)},17750:function(e,n,t){var r=t(23644);n.Z=(e,n)=>{if(!r.n6)switch(n){case"error":console.log(`%c ${n.toUpperCase()} `,"background: darkred; color: white; font-weight: bold;",e);break;case"bug":console.log(`%c ${n.toUpperCase()} `,"background: red; color: white; font-weight: bold;",e);break;case"warning":console.log(`%c ${n.toUpperCase()} `,"background: orange; color: white; font-weight: bold;",e);break;case"info":console.log(`%c ${n.toUpperCase()} `,"background: lawngreen; color: black; font-weight: bold;",e);break;case"note":console.log(`%c ${n.toUpperCase()} `,"background: ivory; color: black; font-weight: bold; border: 1px solid black;",e);break;default:console.log(e)}}},44526:function(e,n,t){t.d(n,{_k:function(){return s},rm:function(){return a},m$:function(){return d},ww:function(){return f}});const r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled"]],o=(()=>{const e=r[0];for(const n of r)if((null==n?void 0:n[1])in document)return e.reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:n[r]})),{});return null})(),u=null==o?void 0:o.requestFullscreen,i=null==o?void 0:o.exitFullscreen,c=null==o?void 0:o.fullscreenElement,l=null==o?void 0:o.fullscreenEnabled,s=!!l&&document[l],a=()=>!!c&&document[c],d=()=>{u&&document.documentElement[u]()},f=()=>{i&&document[i]()}},22502:function(e,n){const t=/^(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]).?$/;n.Z=e=>t.test(e)},97257:function(e,n,t){t.d(n,{hG:function(){return l},UY:function(){return s},HG:function(){return a}});var r=t(18172),o=t(23644),u=t(21544),i=t.n(u);const c=null!=="1.1.12"?"1.1.12":"",l=()=>{const e=window.localStorage.getItem(o.Pb);(null===e||i()(c,o.vu))&&window.localStorage.removeItem(o.fV),e!==c&&window.localStorage.setItem(o.Pb,c)},s=e=>{const n=window.localStorage.getItem(o.fV);if(null===n)return null;const t=JSON.parse(n);return"string"==typeof e?t[e]:e.reduce(((e,n)=>{var t;return null!==(t=null==e?void 0:e[n])&&void 0!==t?t:null}),t)},a=e=>{const n=window.localStorage.getItem(o.fV),t=null===n?{}:JSON.parse(n),u=(0,r.ZP)(t,e);window.localStorage.setItem(o.fV,JSON.stringify(u))}},71159:function(e,n,t){var r=t(96559),o=t(80952),u=t(42605),i=t(54704),c=t(59363),l=t(77750),s=t(84138),a=t(92216),d=t(10778),f=t(66374),w=t(69144),p=t(34029),b=t(70197);const m=new Audio(o),v=new Audio(u),h=new Audio(i),g=new Audio(c),y=new Audio(l),k=new Audio(s),E=new Audio(a),O=new Audio(d),P=new Audio(f),j=new Audio(w),S=new Audio(p),A=new Audio(b),_=(e,n)=>{const t=(0,r.sm)(e);return t.volume=n,t},F=e=>{const n=e.play();void 0!==n&&n.then((e=>{})).catch((e=>{console.log(e)}))};n.Z=(e,n=10,t=null)=>{const r=n/10;if(null!==t)switch(e){case"tower":F(_(t?m:P,r));break;case"wall":F(_(t?v:P,r));break;case"bricks":case"brickProd":F(_(t?h:k,r));break;case"gems":case"gemProd":F(_(t?g:E,r));break;case"recruits":case"recruitProd":F(_(t?y:O,r))}else switch(e){case"deal":F(_(j,r));break;case"victory":F(_(S,r));break;case"defeat":F(_(A,r))}}},18374:function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');const n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");const r=arguments[1];let o=0;for(;o<t;){const t=n[o];if(e.call(r,t,o,n))return t;o++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');const n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");const r=arguments[1];let o=0;for(;o<t;){const t=n[o];if(e.call(r,t,o,n))return o;o++}return-1},configurable:!0,writable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,n){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if(0===r)return!1;for(var o,u,i=0|n,c=Math.max(i>=0?i:r-Math.abs(i),0);c<r;){if((o=t[c])===(u=e)||"number"==typeof o&&"number"==typeof u&&isNaN(o)&&isNaN(u))return!0;c++}return!1}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=this;do{if(Element.prototype.matches.call(n,e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null})},16306:function(e,n,t){t.d(n,{gZ:function(){return r},PB:function(){return o},YB:function(){return u}});const r=new Map,o=new Map,u=new Map},39451:function(e,n,t){t.d(n,{bu:function(){return r},UP:function(){return o},v8:function(){return u}});const r=(e,n)=>{let t=0;for(let r=0;r<n;r++)t+=Math.random()*(e/n);return t},o=e=>e[Math.floor(Math.random()*e.length)],u=(e,n)=>Math.floor(Math.random()*(n-e+1)+e)},5078:function(e,n,t){t.d(n,{d:function(){return o}});const r=t(90583).Z.map((e=>e.prob)).reduce(((e,n,t)=>e.concat(Array(n).fill(t))),[]),o=()=>r[Math.floor(Math.random()*r.length)]},66324:function(e,n,t){t.d(n,{_w:function(){return r},b1:function(){return o}});const r=e=>"player"===e?"opponent":"player",o=e=>e.map((e=>{return null!==e?Object.assign(Object.assign({},e),{owner:(n=e.owner,"player"===n||"opponent"===n?r(e.owner):e.owner)}):null;var n}))},82148:function(e,n,t){t.d(n,{q:function(){return o},_:function(){return u}});var r=t(17750);const o=new class{constructor(){this._v=0,this._queue=[]}get v(){return this._v}reset(){this._v=0}add(e=1){this._v+=e}enqueue(e){this._queue.push(e)}getRemoveUsablesInQueue(e){const n=[];let t=e;if(0!==this._queue.length)for(;;){t++;const e=this._queue.findIndex((e=>null!==e&&e.seq===t));if(-1===e)break;const r=this._queue[e];if(null!==r&&n.push(r),this._queue[e]=null,this._queue.every((e=>null===e))){this._queue=[];break}}return n}getUsableConnDataList(e){const{seq:n}=e;if(n!==this._v+1)return this.enqueue(e),(0,r.Z)(`postponed: ${JSON.stringify(e)}`,"note"),null;this.add();const t=this.getRemoveUsablesInQueue(n);return this.add(t.length),(0,r.Z)(`pulled (executed): ${JSON.stringify([e].concat(t))}`,"note"),[e].concat(t)}},u=new class{constructor(){this._v=0}get v(){return this._v}add(e=1){this._v+=e}reset(){this._v=0}}},77456:function(e,n,t){t.d(n,{iT:function(){return r},Ib:function(){return o},Ug:function(){return u},$:function(){return i}});const r=e=>{const{tower:n,wall:t,brickProd:r,gemProd:o,recruitProd:u,bricks:i,gems:c,recruits:l}=e;return{tower:n,wall:t,brickProd:r,gemProd:o,recruitProd:u,bricks:i,gems:c,recruits:l}},o=e=>{const{winTower:n,winResource:t}=e;return{winTower:n,winResource:t}},u=e=>[e.tower,e.wall,e.bricks,e.gems,e.recruits,e.brickProd,e.gemProd,e.recruitProd,e.winTower,e.winResource,e.cardsInHand],i=(e,n)=>e.tower===n.tower&&e.wall===n.wall&&e.brickProd===n.brickProd&&e.gemProd===n.gemProd&&e.recruitProd===n.recruitProd&&e.bricks===n.bricks&&e.gems===n.gems&&e.recruits===n.recruits&&e.winTower===n.winTower&&e.winResource===n.winResource&&e.cardsInHand===n.cardsInHand},67728:function(){"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./service-worker.js").then((e=>{console.log("Service worker (PWA) registered: ",e)})).catch((e=>{console.log("Service worker (PWA) registration failed: ",e)}))}))},96559:function(e,n,t){t.d(n,{qh:function(){return r},sq:function(){return o},sm:function(){return u},nr:function(){return i},dB:function(){return c}});const r=Object.entries,o=e=>e.reduce(((e,[n,t])=>Object.assign(Object.assign({},e),{[n]:t})),{}),u=(Object.keys,e=>e.cloneNode()),i=(e,n)=>e.hasOwnProperty(n),c=(e,n)=>n.includes(e)},97463:function(e,n,t){t.d(n,{m:function(){return r}});const r=e=>e&&e.charAt(0).toUpperCase()+e.slice(1)},6360:function(e,n,t){t.d(n,{T:function(){return o},C:function(){return u}});var r=t(76398);const o=()=>(0,r.I0)(),u=r.v9},94950:function(e,n,t){var r=t(67294),o=t(23644);n.Z=()=>{(0,r.useEffect)((()=>{if(o.KN){const e=e=>{e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}}),[])}},99348:function(e,n,t){var r=t(67294);n.Z=(e,n)=>{(0,r.useEffect)((()=>{const t=t=>{e.current&&!e.current.contains(t.target)&&n(t)};return window.addEventListener("mousedown",t),()=>{window.removeEventListener("mousedown",t)}}),[])}},40242:function(e,n,t){var r=t(67294),o=t(23644);n.Z=()=>{(0,r.useEffect)((()=>{if(o.J4){const e=e=>{null!==e.target&&e.target instanceof HTMLElement&&null===e.target.closest(".window-wrapper")&&e.preventDefault()};return window.addEventListener("contextmenu",e),()=>window.removeEventListener("contextmenu",e)}}),[])}},2947:function(e,n,t){var r=t(67294);n.Z=(e,n,t=0)=>{(0,r.useEffect)((()=>{const r=t=>{null!=e&&t.key!==e||n(t)};return setTimeout((()=>{window.addEventListener("keydown",r)}),t),()=>{window.removeEventListener("keydown",r)}}),[])}},37337:function(e,n,t){var r=t(67294);n.Z=e=>{(0,r.useEffect)((()=>{const n=n=>{e(n)};return window.addEventListener("load",n),()=>window.removeEventListener("load",n)}),[])}},44933:function(e,n,t){t.d(n,{n:function(){return r}});const r=(e,n)=>{const t=[];let r=0;for(let o=0;o<n.length;o++){const u=r+n[o];t.push(e.slice(r,u)),r=u}return t}},37053:function(e,n,t){t.d(n,{kL:function(){return l},zQ:function(){return s},bb:function(){return i}});var r=t(55391),o=t.n(r);const u={secure:!0,port:443,iceServers:[{urls:["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com"].map((e=>({url:`stun:${e}`})))}]},i={peer:null,conn:null},c=()=>{null===i.peer||i.peer.destroyed||i.peer.destroy()},l=()=>{i.peer=new(o())(u),window.addEventListener("beforeunload",c)},s=()=>{i.peer=null}}},o={};function u(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}u.m=r,e=[],u.O=function(n,t,r,o){if(!t){var i=1/0;for(a=0;a<e.length;a++){t=e[a][0],r=e[a][1],o=e[a][2];for(var c=!0,l=0;l<t.length;l++)(!1&o||i>=o)&&Object.keys(u.O).every((function(e){return u.O[e](t[l])}))?t.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(a--,1);var s=r();void 0!==s&&(n=s)}}return n}o=o||0;for(var a=e.length;a>0&&e[a-1][2]>o;a--)e[a]=e[a-1];e[a]=[t,r,o]},u.F={},u.E=function(e){Object.keys(u.F).map((function(n){u.F[n](e)}))},u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,{a:n}),n},u.d=function(e,n){for(var t in n)u.o(n,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce((function(n,t){return u.f[t](e,n),n}),[]))},u.u=function(e){return{250:"taverni18n16",1189:"i18n16",1687:"taverni18n10",1990:"i18n24",2295:"cardi18n6",2324:"cardi18n24",2434:"i18n14",2835:"taverni18n18",2920:"cardi18n2",3085:"cardi18n16",3243:"i18n0",3430:"cardi18n18",4025:"cardi18n12",4652:"cardi18n20",4747:"taverni18n0",4884:"taverni18n8",4989:"i18n8",5432:"cardi18n8",5665:"taverni18n20",6263:"taverni18n24",6567:"taverni18n2",6969:"i18n2",7085:"i18n20",7285:"cardi18n10",7335:"cardi18n0",7445:"i18n18",7685:"cardi18n14",8463:"taverni18n6",8728:"i18n6",8768:"i18n10",8783:"i18n22",9190:"taverni18n12",9243:"i18n12",9376:"cardi18n22",9462:"taverni18n14",9574:"taverni18n22"}[e]+"."+{250:"cbc903",1189:"7ee28e",1687:"6cb00e",1990:"18b13e",2295:"5adfcd",2324:"8672a0",2434:"c3238d",2835:"6fa7f4",2920:"3db8d7",3085:"08d8d4",3243:"609b6e",3430:"c22a05",4025:"a5e4e8",4652:"8df16b",4747:"dc0d2b",4884:"d57ba7",4989:"a0726d",5432:"58907a",5665:"0dbed8",6263:"efe6b6",6567:"4981a9",6969:"bb447f",7085:"cbb28c",7285:"f0efc6",7335:"09cafe",7445:"6b9043",7685:"5d86ff",8463:"aa7795",8728:"04b4b8",8768:"40c688",8783:"96b6af",9190:"bf8fdc",9243:"b97028",9376:"75f5a8",9462:"23de7e",9574:"472753"}[e]+".js"},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n={},t="arcomage-hd:",u.l=function(e,r,o,i){if(n[e])n[e].push(r);else{var c,l;if(void 0!==o)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var d=s[a];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==t+o){c=d;break}}c||(l=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.setAttribute("data-webpack",t+o),c.src=e),n[e]=[r];var f=function(t,r){c.onerror=c.onload=null,clearTimeout(w);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(r)})),t)return t(r)},w=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),l&&document.head.appendChild(c)}},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="https://arcomage.github.io/",function(){u.b=document.baseURI||self.location.href;var e={2447:0};u.f.j=function(n,t){var r=u.o(e,n)?e[n]:void 0;if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,o){r=e[n]=[t,o]}));t.push(r[2]=o);var i=u.p+u.u(n),c=new Error;u.l(i,(function(t){if(u.o(e,n)&&(0!==(r=e[n])&&(e[n]=void 0),r)){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+n+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}}),"chunk-"+n,n)}},u.F.j=function(n){if(!u.o(e,n)||void 0===e[n]){e[n]=null;var t=document.createElement("link");u.nc&&t.setAttribute("nonce",u.nc),t.rel="prefetch",t.as="script",t.href=u.p+u.u(n),document.head.appendChild(t)}},u.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,o,i=t[0],c=t[1],l=t[2],s=0;if(i.some((function(n){return 0!==e[n]}))){for(r in c)u.o(c,r)&&(u.m[r]=c[r]);if(l)var a=l(u)}for(n&&n(t);s<i.length;s++)o=i[s],u.o(e,o)&&e[o]&&e[o][0](),e[i[s]]=0;return u.O(a)},t=self.webpackChunkarcomage_hd=self.webpackChunkarcomage_hd||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}(),u.O(0,[2447],(function(){[3243,6969,8728,4989,8768,9243,2434,1189,7445,7085,8783,1990,7335,2920,2295,5432,7285,4025,7685,3085,3430,4652,9376,2324,4747,6567,8463,4884,1687,9190,9462,250,2835,5665,9574,6263].map(u.E)}),5);var i=u.O(void 0,[1934,447,9301,7906,1637,4013,4530,1023,2478,5458,2246,5391,8328,2137,9845,4448,1157,3067,8466,6398,5902,3,4890,5244,8952,6123,5467,2812,3978,5269,5538,4096,8090,2349,4501,23,3189,8458,8761,7463,7381,7038],(function(){return u(5150)}));i=u.O(i)}();
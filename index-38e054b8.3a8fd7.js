(self.webpackChunkarcomage_hd=self.webpackChunkarcomage_hd||[]).push([[4071],{8204:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(7294),a=r(4184),i=r.n(a),l=r(7889),o=r(8255),c=r(1304),s=r(6360),m=r(8023),p=r(6399),g=(0,n.memo)((({type:e,isProd:t,isOpponent:r})=>{const a=(0,s.C)((n=>n.status[r?"opponent":"player"][c.CR[e][t?1:0]]));return n.createElement(n.Fragment,null,n.createElement(p.Z,{n:a}),n.createElement(m.Z,{n:a}))})),h=r(124),u=r(5678),d=r(8377),b=r(4983),w=r(1317),f=r(2919),E=r(5483),$=r(1626);const x=(e,t)=>{const r=e*t;return r>=12?r:12},y=(e,t)=>1.2*x(e,t),v=e=>`(${e}px - 1.25rem * 2 - (1.75rem + 0.25rem * 2 + 1rem) - (0.25rem * 2 + ${y(e,.036)}px + 0.25rem + 0.75rem) * 3) / 3`,k=(0,l.QM)({brick:{"background-image":`url(${h.Z})`,"background-position":"center 15%"},gem:{"background-image":`url(${u.Z})`,"background-position":"center 21%"},recruit:{"background-image":`url(${d.Z})`},prodcontainer:{"min-height":"2em"},prod:{"font-size":({height:e})=>`${x(e,.05)}px`,"line-height":({height:e})=>`${y(e,.05)}px`,"margin-bottom":"-0.2em"},count:{"font-size":({height:e})=>`${x(e,.036)}px`,"line-height":({height:e})=>`${y(e,.036)}px`,height:({height:e})=>`${y(e,.036)}px`,width:"42.5%"},unit:{"font-size":({height:e,unitTextLength:t})=>{let r=x(e,.036);return t>w.X0&&(r=r/t*(w.X0+1)),`${r}px`},"line-height":({height:e})=>`${y(e,.036)}px`,height:({height:e})=>`${y(e,.036)}px`,width:({height:e,smallMode:t})=>t?`${y(e,.036)}px`:"57.5%","background-image":({type:e,smallMode:t})=>t?`url(${{brick:f.Z,gem:E.Z,recruit:$.Z}[e]})`:"none",background:{repeat:"no-repeat",size:"cover",position:"center center"},opacity:({smallMode:e})=>e?.75:1,transform:({type:e,smallMode:t})=>{if(t){if("gem"===e)return"translateY(-12%)";if("recruit"===e)return"translateY(6%)"}return"none"}}});var O=(0,n.memo)((({type:e,isOpponent:t})=>{const r=(0,n.useContext)(b.OO),a=(0,n.useContext)(o.$),l=a.height,c=l*(a.narrowMobile?.5:2/3),s=l<w.A1,m={brick:"red",gem:"blue",recruit:"green"}[e],p=r.i18n({brick:"bricks",gem:"gems",recruit:"recruits"}[e]),h=k({type:e,height:c,smallMode:s,unitTextLength:s?0:p.replace(/[ыщ]/g,"  ").replace(/ll/g,"l").length});return n.createElement("div",{className:i()("mb-3 p-1 shadow-lg",`bg-${m}-300`)},n.createElement("div",{title:r.i18n((t?"Opponent's":"Your")+" %s").replace("%s",r.i18n("%s (%ss production)").replace("%s",r.i18n({brick:"quarry",gem:"magic",recruit:"dungeon"}[e])).replace("%ss",r.i18n(e)).replace("%sp",r.i18n({brick:"bricks",gem:"gems",recruit:"recruits"}[e]))),className:i()(h[e],h.prodcontainer,"bg-no-repeat bg-cover bg-center border border-l-darkborder border-t-darkborder border-r-lightborder border-b-lightborder relative"),style:{height:`calc(${v(c)})`}},n.createElement("div",{className:i()("text-yellow-400 absolute bottom-1 left-1 text-shadow-md tracking-tighter","fatnumber",h.prod)},n.createElement(g,Object.assign({isProd:!0},{type:e,isOpponent:t})))),n.createElement("div",{title:r.i18n((t?"Opponent's":"Your")+" %sp").replace("%sp",r.i18n({brick:"bricks",gem:"gems",recruit:"recruits"}[e])).replace("%ss",r.i18n(e)),className:"flow-root mt-1"},n.createElement("div",{className:i()("float-left text-black flex-1 text-left relative tracking-tighter","fatnumber",h.count)},n.createElement(g,Object.assign({isProd:!1},{type:e,isOpponent:t}))),n.createElement("div",{className:i()("float-right text-black flex-1 text-right","robotocondensed",h.unit)},s?"":p)))}));const Z=(0,l.QM)({main:{width:({height:e})=>`calc(${(e=>`${v(e)} / 0.7222222222222222 + 0.25rem * 2 + 1.25rem * 2`)(e)})`,"min-width":"7.8rem",float:({isOpponent:e})=>e?"right":"left"},username:{"transition-property":"color, border-color","transition-timing-function":"ease-in-out","transition-duration":"0.3s"}});var N=(0,n.memo)((({playerName:e,isOpponent:t=!1})=>{const r=(0,n.useContext)(b.OO),a=(0,s.C)((e=>e.game.playersTurn)),l=(0,n.useContext)(o.$).height/3*2,c=Z({height:l,isOpponent:t});return n.createElement("div",{className:i()(c.main,"z-20 p-5 h-full relative")},n.createElement("div",{className:"bg-black bg-opacity-50 mb-4 p-1 shadow-lg"},n.createElement("div",{title:r.i18n(t?"Opponent's Name":"Your Name"),className:i()("border border-yellow-400 text-yellow-400 text-center h-7 leading-7 font-mono",{"border-opacity-25 text-opacity-25":a===t},c.username)},e)),n.createElement(O,{type:"brick",isOpponent:t}),n.createElement(O,{type:"gem",isOpponent:t}),n.createElement(O,{type:"recruit",isOpponent:t}))})),C=r(9842),M=(0,n.memo)((({isOpponent:e,isWall:t,target:r})=>{const a=(0,s.C)((r=>r.status[e?"opponent":"player"][t?"wall":"tower"]));return(0,n.useEffect)((()=>{null!==r.current&&r.current.style.setProperty("--n",a.toString(10))}),[a]),n.createElement(n.Fragment,null,n.createElement(p.Z,{n:a}),n.createElement(m.Z,{n:a}),n.createElement(C.Z,{n:a}))})),z=r(688),Y=r(8415),Q=r(3014);const P=e=>`(${e}px - (1.75rem + 0.25rem * 2)) / (282 + 600)`,W=e=>`${P(e)} * 204`,j=e=>`${P(e)} * ((204 - 135) / 2)`,H=(e,t)=>`calc((${W(e)} - ${j(e)} * 2) / 135 * 600 * ${t})`,R=(0,l.QM)({main:{width:({height:e})=>`calc(${W(e)})`},towerwrapper:{height:({height:e})=>H(e,"1"),bottom:"calc(1.75rem + 0.25rem * 2)","padding-left":({height:e})=>`calc(${j(e)})`,"padding-right":({height:e})=>`calc(${j(e)})`},towerbody:{background:{image:`url(${z.Z})`,repeat:"repeat-y",size:"100%",position:"center 0"},width:({height:e})=>`calc(100% - ${j(e)} * 2)`,height:({height:e,goal:t})=>H(e,`(var(--n) / ${t})`),"max-height":({height:e})=>H(e,"1"),"will-change":"height","transition-property":"height","transition-timing-function":"linear","transition-duration":"0.4s","&:before":{content:'""',position:"absolute",top:({height:e})=>`calc(0px - ${W(e)} / 204 * 282 + 1px)`,left:({height:e})=>`calc(0px - ${j(e)})`,right:({height:e})=>`calc(0px - ${j(e)})`,width:({height:e})=>`calc(${W(e)})`,height:({height:e})=>`calc(${W(e)} / 204 * 282)`,display:"block",background:{repeat:"no-repeat",size:"100%",position:"center 0"}}},towerbodyred:{"&:before":{background:{image:`url(${Y.Z})`}}},towerbodyblue:{"&:before":{background:{image:`url(${Q.Z})`}}}});var T=(0,n.memo)((({isOpponent:e=!1,goal:t})=>{const r=(0,n.useContext)(b.OO),a=(0,n.useContext)(o.$),l=a.height*(a.narrowMobile?.5:2/3),c=(0,n.useRef)(null),s=R({height:l,goal:t});return n.createElement("div",{title:r.i18n(e?"Opponent's %s":"Your %s").replace("%s",r.i18n("tower")),className:i()("h-full mx-1 relative","float-"+(e?"right":"left"),s.main)},n.createElement("div",{className:i()("z-20 w-full absolute",s.towerwrapper)},n.createElement("div",{ref:c,className:i()("absolute bottom-0",s.towerbody,s[e?"towerbodyblue":"towerbodyred"])})),n.createElement("div",{className:"bg-black bg-opacity-50 p-1 shadow-lg w-full absolute bottom-0"},n.createElement("div",{className:"border border-yellow-400 border-opacity-25 text-yellow-400 text-center h-7 leading-7 font-mono"},n.createElement(M,{isOpponent:e,isWall:!1,target:c}))))})),F=r(5844);const I=e=>`(${e}px - (1.75rem + 0.25rem * 2)) / (282 + 600)`,L=(e,t)=>`calc(${I(e)} * 597 * ${t})`,X=(0,l.QM)({main:{width:e=>`calc(${I(e)} * 72 + 1rem * 2)`},wallwrapper:{height:e=>L(e,"1"),bottom:"calc(1.75rem + 0.25rem * 2)"},wallbody:{height:e=>L(e,`(var(--n) / ${w.dY})`),background:{image:`url(${F.Z})`,repeat:"repeat-y",size:"100%",position:"center 0"},width:e=>`calc(${I(e)} * 72)`,"max-height":e=>`calc(${I(e)} * 597)`,"will-change":"height","transition-property":"height","transition-timing-function":"linear","transition-duration":"0.4s"}});var _=(0,n.memo)((({isOpponent:e=!1})=>{const t=(0,n.useContext)(b.OO),r=(0,n.useContext)(o.$),a=r.height*(r.narrowMobile?.5:2/3),l=(0,n.useRef)(null),c=X(a);return n.createElement("div",{title:t.i18n(e?"Opponent's %s":"Your %s").replace("%s",t.i18n("wall")),className:i()("h-full mx-2 relative","float-"+(e?"right":"left"),c.main)},n.createElement("div",{className:i()("z-20 w-full absolute px-4",c.wallwrapper)},n.createElement("div",{ref:l,className:i()("absolute bottom-0",c.wallbody)})),n.createElement("div",{className:"bg-black bg-opacity-50 p-1 shadow-lg w-full absolute bottom-0"},n.createElement("div",{className:"border border-yellow-400 border-opacity-25 text-yellow-400 text-center h-7 leading-7 font-mono"},n.createElement(M,{isOpponent:e,isWall:!0,target:l}))))})),q=r(7977),A=r(3705);const S=(0,l.QM)({main:{background:{image:`url(${A.Z})`,repeat:"no-repeat",size:"cover",position:"center 30%"}}});var B=(0,n.memo)((()=>{const e=(0,s.C)((e=>e.settings.playerName)),t=(0,s.C)((e=>e.settings.opponentName)),r=(0,s.C)((e=>e.settings.win.tower)),a=(0,n.useContext)(o.$),l=S();return n.createElement("div",{className:i()(l.main,"z-0 flex-auto bg-green-100 relative",a.narrowMobile?"h-1/2":"h-2/3")},n.createElement(N,{playerName:e}),n.createElement(T,{goal:r}),n.createElement(_,null),n.createElement(N,{playerName:t,isOpponent:!0}),n.createElement(T,{isOpponent:!0,goal:r}),n.createElement(_,{isOpponent:!0}),n.createElement(q.Z,null))}))},2606:function(e,t,r){"use strict";var n=r(7294),a=r(1868),i=r(4184),l=r.n(i),o=r(7889),c=r(6360),s=r(515),m=r(3543),p=r(8255);const g=(0,o.QM)({main:{background:{image:"linear-gradient(#326a4b, #000 2rem)"}}});t.Z=(0,n.memo)((()=>{const e=(0,c.C)((e=>e.cards.list)),t=(0,c.C)((e=>e.settings.cardsInHand)),r=(0,c.C)((e=>e.game.discardMode)),i=(0,n.useContext)(p.$),o=i.height,h=i.width,u=g();return n.createElement(m.f,{cardsInHand:t,winHeight:o,winWidth:h},n.createElement("div",{className:l()(u.main,"flex-auto",i.narrowMobile?"h-1/2":"h-1/3")},n.createElement(a.Z,{n:-1,position:-1,unusable:!0}),e.map(((e,t)=>null===e?null:n.createElement(a.Z,Object.assign({key:t,index:t},e)))),n.createElement(s.Z,{shown:r})))}))},7205:function(e,t,r){"use strict";var n=r(7294),a=r(4820),i=r(8922),l=r(3761),o=r(4808),c=r(3264),s=r(4286);t.Z=(0,n.memo)((()=>n.createElement("div",null,n.createElement(a.Z,null),n.createElement(i.Z,null),n.createElement(l.Z,null),n.createElement(s.Z,null),n.createElement(o.Z,null),n.createElement(c.Z,null))))}}]);